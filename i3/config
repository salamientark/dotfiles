# i3 config file (v4)
# See https://i3wm.org/docs/userguide.html for complete reference
# Using bindcode for keyboard layout independence (QWERTY/AZERTY compatible)


### VARIABLES ###

set $TERMINAL /usr/bin/alacritty
set $I3_CONFIG_DIR ~/.config/i3
set $I3_SCRIPTS_DIR ~/.config/i3/scripts
set $I3BLOCKS_CONFIG_DIR ~/.config/i3blocks
set $mod Mod4

### APPEARANCE ###

font pango:MesloLGS NF 10

### STARTUP PROGRAMS ###

# Screen locking
exec --no-startup-id xss-lock --transfer-sleep-lock --i3lock -i ~/.i3/glitch-art-hexagonal-pattern-illusion.png --nofork

# Network manager applet
exec --no-startup-id nm-applet

### KEYBINDINGS ###

# Lock session (p key)
bindcode $mod+Shift+33 exec --no-startup-id i3lock -i ~/.i3/glitch-art-hexagonal-pattern-illusion.png

# Volume controls (F1-F4)
bindcode $mod+67 exec --no-startup-id $I3_SCRIPTS_DIR/volume.sh mute
bindcode $mod+68 exec --no-startup-id $I3_SCRIPTS_DIR/volume.sh down
bindcode $mod+69 exec --no-startup-id $I3_SCRIPTS_DIR/volume.sh up
bindcode $mod+70 exec --no-startup-id $I3_SCRIPTS_DIR/volume.sh mic-mute

# Brightness controls (F5-F6)
bindcode $mod+71 exec --no-startup-id $I3_SCRIPTS_DIR/brightness.sh down
bindcode $mod+72 exec --no-startup-id $I3_SCRIPTS_DIR/brightness.sh up

# Use Mouse+$mod to drag floating windows
floating_modifier $mod

### WINDOW MANAGEMENT ###

# Kill focused window (q key)
bindcode $mod+Shift+24 kill

# Start terminal (Return key)
bindcode $mod+36 exec $TERMINAL

# Start dmenu (d key)
bindcode $mod+40 exec dmenu_run

# Change focus (vim keys: hjkl)
bindcode $mod+43 focus left
bindcode $mod+44 focus down
bindcode $mod+45 focus up
bindcode $mod+46 focus right

# Change focus (arrow keys)
bindcode $mod+113 focus left
bindcode $mod+116 focus down
bindcode $mod+111 focus up
bindcode $mod+114 focus right

# Move focused window (vim keys: hjkl)
bindcode $mod+Shift+43 move left
bindcode $mod+Shift+44 move down
bindcode $mod+Shift+45 move up
bindcode $mod+Shift+46 move right

# Move focused window (arrow keys)
bindcode $mod+Shift+113 move left
bindcode $mod+Shift+116 move down
bindcode $mod+Shift+111 move up
bindcode $mod+Shift+114 move right

# Split orientation (s=horizontal, v=vertical)
bindcode $mod+Shift+39 split h
bindcode $mod+55 split v

# Fullscreen toggle (f key)
bindcode $mod+41 fullscreen toggle

# Container layout (s=stacking, t=tabbed, w=toggle split)
bindcode $mod+39 layout stacking
bindcode $mod+28 layout tabbed
bindcode $mod+25 layout toggle split

# Toggle tiling/floating (space key)
bindcode $mod+Shift+65 floating toggle

# Change focus between tiling/floating windows (space key)
bindcode $mod+65 focus mode_toggle

# Focus parent/child container (a/c keys)
bindcode $mod+38 focus parent
bindcode $mod+54 focus child
### WORKSPACES ###

# Workspace definitions
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

# Switch to workspace
bindcode $mod+10 workspace number $ws1
bindcode $mod+11 workspace number $ws2
bindcode $mod+12 workspace number $ws3
bindcode $mod+13 workspace number $ws4
bindcode $mod+14 workspace number $ws5
bindcode $mod+15 workspace number $ws6
bindcode $mod+16 workspace number $ws7
bindcode $mod+17 workspace number $ws8
bindcode $mod+18 workspace number $ws9
bindcode $mod+19 workspace number $ws10

# Move focused container to workspace
bindcode $mod+Shift+10 move container to workspace number $ws1
bindcode $mod+Shift+11 move container to workspace number $ws2
bindcode $mod+Shift+12 move container to workspace number $ws3
bindcode $mod+Shift+13 move container to workspace number $ws4
bindcode $mod+Shift+14 move container to workspace number $ws5
bindcode $mod+Shift+15 move container to workspace number $ws6
bindcode $mod+Shift+16 move container to workspace number $ws7
bindcode $mod+Shift+17 move container to workspace number $ws8
bindcode $mod+Shift+18 move container to workspace number $ws9
bindcode $mod+Shift+19 move container to workspace number $ws10

### SYSTEM CONTROLS ###

# Reload configuration file (c key)
bindcode $mod+Shift+54 reload

# Restart i3 in-place (r key)
bindcode $mod+Shift+27 restart

# Exit i3 (x key)
bindcode $mod+Shift+53 exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -B 'Yes, exit i3' 'i3-msg exit'"

### RESIZE MODE ###

mode "resize" {
        # Vim-style resize keys (jklm)
        bindcode 44 resize shrink width 10 px or 10 ppt
        bindcode 45 resize grow height 10 px or 10 ppt
        bindcode 46 resize shrink height 10 px or 10 ppt
        bindcode 58 resize grow width 10 px or 10 ppt

        # Arrow keys
        bindcode 113 resize shrink width 10 px or 10 ppt
        bindcode 116 resize grow height 10 px or 10 ppt
        bindcode 111 resize shrink height 10 px or 10 ppt
        bindcode 114 resize grow width 10 px or 10 ppt

        # Exit resize mode
        bindcode 36 mode "default"
        bindcode 9 mode "default"
        bindcode $mod+27 mode "default"
}

# Enter resize mode (r key)
bindcode $mod+27 mode "resize"

### COLOR SCHEME ###

set $bgcolor    #587E9B99
set $in-bgcolor #3636364D
set $text       #ffffff
set $u-bgcolor  #ff0000
set $indicator  #a8a3c1
set $in-text    #A4A4A4
set $focused-ws #587E9B80
set $bar-color  #587E9B0D

# Window colors (border, background, text, indicator)
client.focused          $bgcolor    $bgcolor    $text    $indicator
client.unfocused        $in-bgcolor $in-bgcolor $in-text $in-bgcolor
client.focused_inactive $in-bgcolor $in-bgcolor $in-text $in-bgcolor
client.urgent           $u-bgcolor  $u-bgcolor  $text    $u-bgcolor

### BAR ###

# i3bar disabled - using Polybar instead
# bar {
# 	status_command i3blocks -c $I3BLOCKS_CONFIG_DIR/i3blocks.conf
# 	font pango:MesloLGS NF 11
# 	i3bar_command i3bar --transparency
# 	tray_output none
# 	
# 	colors {
# 		background         $bar-color
# 		separator          #191919
# 		focused_workspace  $bgcolor    $bgcolor    $text
# 		inactive_workspace $in-bgcolor $in-bgcolor $text
# 		urgent_workspace   $u-bgcolor  $u-bgcolor  $text
# 	}
# }

### APPLICATION ASSIGNMENTS ###

# Assign applications to specific workspaces
# To find application class: xprop | grep WM_CLASS
assign [class="firefox"] $ws3
assign [class="Brave-browser"] $ws3
assign [class="VirtualBox Manager"] $ws4

### STARTUP APPLICATIONS ###

# Auto-launch applications on specific workspaces
exec --no-startup-id i3-msg 'workspace 1; exec $TERMINAL'
exec --no-startup-id i3-msg 'workspace 2; exec $TERMINAL; exec $TERMINAL'
exec --no-startup-id i3-msg 'workspace 3; exec firefox'

# Polybar
exec_always --no-startup-id ~/.config/polybar/launch.sh

# Wallpaper
exec_always feh --bg-fill ~/.config/i3/wallpapers/ink_wave.png

# Compositor (transparency effects)
exec_always picom --config ~/.config/picom/picom.conf

# Display scaling
exec_always xrandr --output HDMI-0 --scale 2x2

### GAPS ###

gaps inner 5
gaps outer 2
